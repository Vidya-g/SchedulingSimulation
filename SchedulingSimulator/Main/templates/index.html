{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>{%include "indexExtCss.html" %} {%include "indexExtJs.html" %}
	<title>Scheduling Simulator</title>
</head>

<body class="">
	<div class="wrapper">
		<div class="main-panel">
			<div class="content">
				<div class="row">
					<div class="col-lg-8">
						<div class="card card-tasks">
							<div class="card-header ">
								<h4 class="title d-inline">Input</h4>
							</div>
							<div class="card-body ">
								<div class="table-full-width table-responsive">
									<form action="" method="post">{% csrf_token %} {{ form }}
										<table align='center' cellspacing=2 cellpadding=5 id="data_table" border=1>
											<tr>
												<th>Task</th>
												<th>Execution Time</th>
												<th>Period</th>
												<th>Deadline</th>
												<th>Arrival Time</th>
											</tr>
											<tr>
												<td id="task">1</td>
												<td>
													<input type="text" id="exec_time" style="width: 100%;">
												</td>
												<td>
													<input type="text" id="period" style="width: 100%;">
												</td>
												<td>
													<input type="text" id="deadline" style="width: 100%;">
												</td>
												<td>
													<input type="text" id="arrival_time" style="width: 100%;">
												</td>
												<td>
													<input type="button" class="add" onclick="add_row();" value="Add Row">
												</td>
											</tr>
										</table>
										<input type="submit" value="Submit" onclick="submitData()">
									</form>
								</div>
							</div>
						</div>
					</div>
					<div class="col-lg-4">
						<div class="card ">
							<div class="card-header">
								<h4 class="card-title"> Console Output</h4>
							</div>
							<div class="card-body">
								<div class="table-responsive">
									<p>{{ outputConsole|linebreaksbr }}</p>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div>
					<button onclick="toggleAlgorithm('rmsAlgorithm','rmsButton')" id="rmsButton" class="btn btn-sm btn-primary btn-simple active" style="color: green;">RMS</button>
					<button onclick="toggleAlgorithm('edfAlgorithm','edfButton')" id="edfButton" class="btn btn-sm btn-primary btn-simple active" style="color: green;">EDF</button>
					<button onclick="toggleAlgorithm('fcfsAlgorithm','fcfsButton')" id="fcfsButton" class="btn btn-sm btn-primary btn-simple active" style="color: green;">FCFS</button>
				</div>
				<div class="row" id="rmsAlgorithm" style="display: block">
					<div class="col-12">
						<div class="card card-chart">
							<div class="card-header ">
								<div class="row">
									<div class="col-sm-6 text-left">
										<h2 class="card-title">Rate Monotonic</h2>
									</div>
									<div class="col-sm-6">
										<div class="btn-group btn-group-toggle float-right" data-toggle="buttons">
											<label class="btn btn-sm btn-primary btn-simple active" id="0" onclick="chooseGraph('myChart', 'rmsChartArea');createGraph('myChart', 'Rate Monotonic', rmsArray, algorithmInputArray)">
												<input type="radio" name="options" checked> <span class="d-none d-sm-block d-md-block d-lg-block d-xl-block">Bar Graph</span>  <span class="d-block d-sm-none">
                          <i class="tim-icons icon-single-02"></i>
                        </span>
											</label>
											<label class="btn btn-sm btn-primary btn-simple" id="1" onclick="chooseGraph('myChartLine', 'rmsChartArea');createLineGraph('myChartLine', 'Rate Monotonic', rmsArray, algorithmInputArray)">
												<input type="radio" class="d-none d-sm-none" name="options"> <span class="d-none d-sm-block d-md-block d-lg-block d-xl-block">Line Graph</span>  <span class="d-block d-sm-none">
                          <i class="tim-icons icon-gift-2"></i>
                        </span>
											</label>
											<button onclick="prev('myChart', 'Rate Monotonic', rmsArray, algorithmInputArray,'rmsChartArea')" class="previous round">&#8249;</button>
											<button onclick="next('myChart', 'Rate Monotonic', rmsArray, algorithmInputArray,'rmsChartArea')" class="next round">&#8250;</button>


										</div>
									</div>
								</div>
							</div>
							<div>
								<div id="rmsChartArea">
									<canvas id="myChart"></canvas>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="row" id="edfAlgorithm" style="display: block">
					<div class="col-12">
						<div class="card card-chart">
							<div class="card-header ">
								<div class="row">
									<div class="col-sm-6 text-left">
										<h2 class="card-title">Earliest Deadline First</h2>
									</div>
									<div class="col-sm-6">
										<div class="btn-group btn-group-toggle float-right" data-toggle="buttons">
											<label class="btn btn-sm btn-primary btn-simple active" id="2" onclick="chooseGraph('myChart2', 'edfChartArea');createGraph('myChart2', 'Earliest DeadLine First', edfArray, algorithmInputArray)">
												<input type="radio" name="options" checked> <span class="d-none d-sm-block d-md-block d-lg-block d-xl-block">Bar Graph</span>  <span class="d-block d-sm-none">
                          <i class="tim-icons icon-single-02"></i>
                        </span>
											</label>
											<label class="btn btn-sm btn-primary btn-simple" id="3" onclick="chooseGraph('myChart2Line', 'edfChartArea');createLineGraph('myChart2Line', 'Earliest DeadLine First', edfArray, algorithmInputArray)">
												<input type="radio" class="d-none d-sm-none" name="options"> <span class="d-none d-sm-block d-md-block d-lg-block d-xl-block">Line Graph</span>  <span class="d-block d-sm-none">
                          <i class="tim-icons icon-gift-2"></i>
                        </span>
											</label>
										</div>
									</div>
								</div>
							</div>
							<div style="height:50;">
								<div id="edfChartArea">
									<canvas id="myChart2"></canvas>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="row" id="fcfsAlgorithm" style="display: block">
					<div class="col-12">
						<div class="card card-chart">
							<div class="card-header ">
								<div class="row">
									<div class="col-sm-6 text-left">
										<h2 class="card-title">First Come First Serve</h2>
									</div>
									<div class="col-sm-6">
										<div class="btn-group btn-group-toggle float-right" data-toggle="buttons">
											<label class="btn btn-sm btn-primary btn-simple active" id="4" onclick="chooseGraph('myChart3', 'fcfsChartArea');createGraph('myChart3', 'First Come First Serve', fcfsArray, algorithmInputArray)">
												<input type="radio" name="options" checked> <span class="d-none d-sm-block d-md-block d-lg-block d-xl-block">Bar Graph</span>  <span class="d-block d-sm-none">
                          <i class="tim-icons icon-single-02"></i>
                        </span>
											</label>
											<label class="btn btn-sm btn-primary btn-simple" id="5" onclick="chooseGraph('myChart3Line', 'fcfsChartArea');createLineGraph('myChart3Line', 'First Come First Serve', fcfsArray, algorithmInputArray)">
												<input type="radio" class="d-none d-sm-none" name="options"> <span class="d-none d-sm-block d-md-block d-lg-block d-xl-block">Line Graph</span>  <span class="d-block d-sm-none">
                          <i class="tim-icons icon-gift-2"></i>
                        </span>
											</label>
										</div>
									</div>
								</div>
							</div>
							<div style="height:50;">
								<div id="fcfsChartArea">
									<canvas id="myChart3"></canvas>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<footer class="footer">
				<div class="container-fluid">
					<div class="copyright">Developed by Jathin Sreenivas & Vineeth Bhat</div>
				</div>
			</footer>
		</div>
	</div>
	<div class="fixed-plugin">
		<div class="dropdown show-dropdown">
			<a href="#" data-toggle="dropdown"> <i class="fa fa-cog fa-2x"> </i>
			</a>
			<ul class="dropdown-menu">
				<li class="header-title">Background</li>
				<li class="adjustments-line text-center color-change"> <span class="color-label">LIGHT MODE</span>  <span class="badge light-badge mr-2"></span>  <span class="badge dark-badge ml-2"></span>  <span class="color-label">DARK MODE</span>
				</li>
			</ul>
		</div>
	</div>
	<script>
		createTable(algorithmInputArray);
		createGraph('myChart', 'Rate Monotonic', rmsArray, algorithmInputArray);
		createGraph('myChart2', 'Earliest DeadLine First', edfArray, algorithmInputArray);
		createGraph('myChart3', 'First Come First Serve', fcfsArray, algorithmInputArray);
	</script>
</body>

</html>